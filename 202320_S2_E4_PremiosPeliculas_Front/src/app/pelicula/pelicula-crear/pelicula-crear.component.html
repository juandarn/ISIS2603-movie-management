<div class="container mt-4">
  <h2 class="text-center">Crear una nueva película</h2>
  <form
    [formGroup]="peliculaForm"
    (ngSubmit)="!peliculaForm.invalid && createPelicula(peliculaForm.value)"
  >
    <!--Name-->
    <div class="form-group mx-sm-3 mb-2">
      <label for="nombre">Name</label>
      <input
        novalidate
        id="nombre"
        class="form-control"
        formControlName="nombre"
        placeholder="Nombre pelicula"
      />
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="
          peliculaForm.get('nombre')!.hasError('required') &&
          peliculaForm.get('nombre')!.touched
        "
      >
        Nombre requerido
      </div>
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="peliculaForm.get('nombre')!.hasError('minlength')"
      >
        Nombre muy corto
      </div>
    </div>

    <!--Duracion-->
    <div class="form-group mx-sm-3 mb-2">
      <label for="duracion">Duracion pelicula</label>
      <input
        novalidate
        id="duracion"
        class="form-control"
        formControlName="duracion"
        placeholder="Duración de la pelicula"
        type = "number"
      />
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="
          peliculaForm.get('duracion')!.hasError('required') &&
          peliculaForm.get('duracion')!.touched
        "
      >
        Duracion requerida
      </div>
    </div>

    <!--Pais-->
    <div class="form-group mx-sm-3 mb-2">
      <label for="pais">Pais origen</label>
      <input
        novalidate
        id="pais"
        class="form-control"
        formControlName="pais"
        placeholder="Pais de origen"
      />
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="
          peliculaForm.get('pais')!.hasError('required') &&
          peliculaForm.get('pais')!.touched
        "
      >
        Pais requerido
      </div>
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="peliculaForm.get('pais')!.hasError('minlength')"
      >
        Nombre de pais muy corto
      </div>
    </div>


    <!--Idioma original-->
    <div class="form-group mx-sm-3 mb-2">
      <label for="idiomaOriginal">Idioma original</label>
      <input
        novalidate
        id="idiomaOriginal"
        class="form-control"
        formControlName="idiomaOriginal"
        placeholder="Idioma original"
      />
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="
          peliculaForm.get('idiomaOriginal')!.hasError('required') &&
          peliculaForm.get('idiomaOriginal')!.touched
        "
      >
        Idioma original requerido 
      </div>
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="peliculaForm.get('pais')!.hasError('minlength')"
      >
        Nombre de pais muy corto
      </div>
    </div>

   

    <!--Fecha estreno-->
    <div class="form-group mx-sm-3 mb-2">
      <label for="fechaEstreno">Fecha de estreno</label>
      <input
        novalidate
        id="fechaEstreno"
        class="form-control"
        formControlName="fechaEstreno"
        placeholder="Fecha de estreno"
        type="date"
      />
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="
          peliculaForm.get('fechaEstreno')!.hasError('required') &&
          peliculaForm.get('fechaEstreno')!.touched
        "
      >
        Fecha de estreno requerida
      </div>
    </div>


    <!--linkTrailer-->
    <div class="form-group mx-sm-3 mb-2">
      <label for="linkTrailer">Link Trailer </label>
      <input
        novalidate
        id="linkTrailer"
        class="form-control"
        formControlName="linkTrailer"
        placeholder="URL con el trailer de la pelicula"
      />
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="
          peliculaForm.get('linkTrailer')!.hasError('required') &&
          peliculaForm.get('linkTrailer')!.touched
        "
      >
        Link del trailer requerido
      </div>
    </div>

     <!--Imagen-->
     <div class="form-group mx-sm-3 mb-2">
      <label for="imagen">Imagen </label>
      <input
        novalidate
        id="imagen"
        class="form-control"
        formControlName="imagen"
        placeholder="URL con imagen de la pelicula"
      />
      <div
        class="alert alert-danger alert-dismissible fade show"
        *ngIf="
          peliculaForm.get('imagen')!.hasError('required') &&
          peliculaForm.get('imagen')!.touched
        "
      >
        Imagen requerida
      </div>
    </div>
  

    <button
      id="submit"
      type="submit"
      class="btn btn-primary"
      [disabled]="!peliculaForm.valid"
    >
      Create
    </button>
    <button
      type="button"
      class="btn btn-danger ml-3"
      (click)="cancelCreation()"
    >
      Cancel
    </button>
  </form>
</div>